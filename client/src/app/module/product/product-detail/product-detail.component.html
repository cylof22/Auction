<div *ngIf="product" class="row">
  <div class="picture-container col-sm-8 col-lg-8 col-md-8">
    <div id="imagePreview" class="picArea">
      <img [src]="product.url" class="picture">
    </div>

    <div *ngIf="hasStory" id="story-container" class="story-container thumbnail">
      <h3 class="title">Product story</h3>
      <div *ngIf="product.story.description" id="storyDescrip" class="description">
        <h4 class="text">{{ product.story.description }}</h4>
      </div>
      <div *ngIf="hasStoryPic" class="pictures">
        <div *ngFor="let pic of product.story.pictures" class="col-sm-3 col-lg-3 col-md-3">
          <img [src]="pic">
        </div>
      </div>
    </div>
  </div>

  <div id="detailBox" class="col-sm-4 col-lg-4 col-md-4">
    <div>
      <p class="owner">Owner</p>
      <p >{{ product.owner }}</p>
    </div>
    <div>
      <p class="maker">Maker</p>
      <p>{{ product.maker }}</p>
    </div>
    <div *ngIf="product.tags != ''">
      <p class="tags">Tag</p>
      <p>{{ product.tags }}</p>
    </div>
    <div>
      <p class="property">Property</p>
      <p>{{ productType }}</p>
    </div>
    <div *ngIf="product.price.type == '0'">
      <p class="fix-price">{{ priceType }}</p>
      <p>{{ product.price.value }}</p>
    </div>
    <div *ngIf="product.price.type == '1'">
      <p class="auction-price">{{ priceType }}</p>
      <p>{{ product.price.value }}</p>
    </div>
    <div *ngIf="product.price.type != '2'">
      <p class="duration">Duration</p>
      <p>{{ product.price.duration }}</p>
    </div>
    <div *ngIf="product.price.type == '2'">
      <p>{{ priceType }}</p>
    </div>
      
    <div *ngIf="hasError">
      <p class="fail">Current operation is failed. Please try again! </p>
    </div>  

    <div *ngIf="order">
      <product-detail-buy-page [productOwner]="product.owner"
                               [priceType]="product.price.type"
                               [priceValue]="product.price.value"
                               [orderStatus]="order.status"
                               (handleBuyEvent)="buy($event)">
      </product-detail-buy-page> 
    </div>

    <div *ngIf="order">
      <product-detail-sell-page
                                       [productOwner]="product.owner"
                                       [priceType]="product.price.type"
                                       [orderStatus]="order.status"
                                       (handleSellEvent)="sell($event)">
      </product-detail-sell-page> 
    </div>    
  </div>
</div>
